<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sheets Finder</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
        <div id="loading" class="screen">
            <div class="loading-spinner"></div>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>

        <!-- –≠–∫—Ä–∞–Ω "–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞" -->
        <div id="no-access" class="screen hidden">
            <div class="container">
                <h1>üö´</h1>
                <h2>–£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞</h2>
                <p>–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.</p>
                <div id="telegram-id-info" class="telegram-id-info">
                    <p><strong>–í–∞—à Telegram ID:</strong></p>
                    <p id="user-telegram-id" class="telegram-id"></p>
                    <p class="help-text">–°–æ–æ–±—â–∏—Ç–µ —ç—Ç–æ—Ç ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞</p>
                </div>
            </div>
        </div>

        <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
        <div id="admin-panel" class="screen hidden">
            <div class="container">
                <h1>‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
                
                <div class="admin-section">
                    <button id="go-to-search" class="btn btn-primary">–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–∏—Å–∫—É</button>
                </div>

                <div class="admin-section">
                    <h3>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h3>
                    <div id="users-list"></div>
                    <button id="add-user-btn" class="btn btn-secondary">–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
                </div>

                <div class="admin-section">
                    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–±–ª–∏—Ü—ã</h3>
                    <div class="form-group">
                        <label for="sheets-url">–°—Å—ã–ª–∫–∞ –Ω–∞ Google Sheets:</label>
                        <input type="url" id="sheets-url" placeholder="https://docs.google.com/spreadsheets/d/...">
                    </div>
                    <button id="test-connection" class="btn btn-secondary">–¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</button>
                    <div id="connection-status"></div>
                </div>

                <div class="admin-section">
                    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∏—Å–∫–∞</h3>
                    <div class="form-group">
                        <label for="search-column">–°—Ç–æ–ª–±–µ—Ü –¥–ª—è –ø–æ–∏—Å–∫–∞:</label>
                        <input type="text" id="search-column" placeholder="A –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏">
                    </div>
                    <div class="form-group">
                        <label for="result-columns">–°—Ç–æ–ª–±—Ü—ã –¥–ª—è –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:</label>
                        <input type="text" id="result-columns" placeholder="B, C, D">
                    </div>
                    <button id="save-settings" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –ø–æ–∏—Å–∫–∞ -->
        <div id="search-screen" class="screen hidden">
            <div class="container">
                <div class="header">
                    <h1>üîç –ü–æ–∏—Å–∫ –±—Ä–µ–Ω–¥–æ–≤</h1>
                    <button id="go-to-admin" class="btn btn-secondary hidden">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</button>
                </div>

                <div class="search-section">
                    <div class="search-container">
                        <input type="text" id="search-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±—Ä–µ–Ω–¥–∞...">
                        <button id="search-btn" class="btn btn-primary">–ù–∞–π—Ç–∏</button>
                    </div>
                    <div id="suggestions" class="suggestions hidden"></div>
                </div>

                <div id="search-results" class="results hidden">
                    <div id="results-list"></div>
                    <div class="pagination">
                        <button id="prev-page" class="btn btn-secondary" disabled>–ù–∞–∑–∞–¥</button>
                        <span id="page-info"></span>
                        <button id="next-page" class="btn btn-secondary" disabled>–í–ø–µ—Ä—ë–¥</button>
                    </div>
                </div>

                <div id="no-results" class="message hidden">
                    <p>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</p>
                </div>

                <div id="connection-error" class="message error hidden">
                    <p>–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Ç–∞–±–ª–∏—Ü–µ–π</p>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div id="add-user-modal" class="modal hidden">
        <div class="modal-content">
            <h3>–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
            <div class="form-group">
                <label for="new-user-telegram-id">Telegram ID:</label>
                <input type="text" id="new-user-telegram-id" placeholder="123456789">
            </div>
            <div class="form-group">
                <label for="new-user-username">Username:</label>
                <input type="text" id="new-user-username" placeholder="@username">
            </div>
            <div class="modal-buttons">
                <button id="cancel-add-user" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                <button id="confirm-add-user" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
